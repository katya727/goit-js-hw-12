import{S as v,i as l}from"./assets/vendor-BrddEoy-.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const R="51463831-466a64c9262f6e860993cdb47",S="https://pixabay.com/api/",u=15;async function f(a,s=1){const r=`${S}?key=${R}&q=${encodeURIComponent(a)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${u}&page=${s}`,o=await fetch(r);if(!o.ok)throw new Error("Failed to fetch images");return await o.json()}const y=document.querySelector(".gallery"),L=document.querySelector(".load-more"),w=document.querySelector(".loader"),E=new v(".gallery a",{captionsData:"alt",captionDelay:250});function h(a){const s=a.map(r=>`
      <a class="gallery__item" href="${r.largeImageURL}">
        <img class="gallery__image" src="${r.webformatURL}" alt="${r.tags}" />
      </a>`).join("");y.insertAdjacentHTML("beforeend",s),E.refresh()}function M(){y.innerHTML=""}function m(){w.classList.remove("is-hidden")}function g(){w.classList.add("is-hidden")}function p(){L.classList.remove("is-hidden")}function d(){L.classList.add("is-hidden")}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector("#search-form"),s=document.querySelector(".load-more");let r="",o=1,e=0;a.addEventListener("submit",async n=>{n.preventDefault();const i=n.target.elements.searchQuery.value.trim();if(!i){l.warning({title:"Увага",message:"Введіть пошуковий запит!",position:"topRight"});return}r=i,o=1,M(),d(),m();try{const c=await f(r,o);if(e=c.totalHits,c.hits.length===0){l.info({title:"Нічого не знайдено",message:"Спробуйте інший запит.",position:"topRight"});return}h(c.hits);const b=Math.ceil(e/u);o<b?p():(d(),l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}catch{l.error({title:"Помилка",message:"Не вдалося отримати дані",position:"topRight"})}finally{g()}}),s.addEventListener("click",async()=>{o+=1,d(),m();try{const n=await f(r,o);h(n.hits);const i=Math.ceil(e/u);o<i?p():(d(),l.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})),t()}catch{l.error({title:"Помилка",message:"Не вдалося завантажити більше",position:"topRight"})}finally{g()}});function t(){const i=document.querySelector(".gallery").firstElementChild;if(i){const{height:c}=i.getBoundingClientRect();window.scrollBy({top:c*2,behavior:"smooth"})}}});
//# sourceMappingURL=index.js.map
